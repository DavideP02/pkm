\subsubsection{Somma}

Dati\marginnote{7 ott 2021} $ W_1, W_2 $ sottospazi vettoriali di $ V $, si definisce \begin{equation}
	W_1+W_2=\{x+y \in V\,|\, x \in W_1\,\land\, y \in W_2\}
\end{equation}

\proposizione{spasioidusfjakjygfdmajghfdamhgfdajghfadshjfgkadsjfghdakjfghkdajghfkdjhsagfkdjahgfdkjsafghk}{
	$ W_1+W_2 $ è sottospazio vettoriale di $ V $.
}
\dimostrazioneprop{spasioidusfjakjygfdmajghfdamhgfdajghfadshjfgkadsjfghdakjfghkdajghfkdjhsagfkdjahgfdkjsafghk}{
	
	\begin{itemize}
		\item [($+$)] Siano $ w_1, w_2 \in W_1+W_2 $
		
		$ w_1 \in W_1+W_2 $ $ \implies $ $ w_1=x_1+y_1 $ con $ x_1 \in W_1 $ e $ y_1 \in W_2 $
		
		$ w_2 \in W_1+W_2 $ $ \implies $ $ w_2=x_2+y_2 $ con $ x_2 \in W_1 $ e $ y_2 \in W_2 $ \[
			w_1+w_2=(x_1+y_1)+(x_2+y_2)=\parentesi{ \in W_1}{(x_1+x_2)}+\parentesi{ \in W_2}{(y_1+y_2)} \in W_1+W_2.
		\]
		\item [($\cdot$)] Sia $ w \in W_1+W_2 $ e $ \lambda \in \K $, $ w=x+y $ con $ x \in W_1 $, $ y \in W_2 $ \[
			\lambda w = \lambda(x+y)= \underset{ \in W_1}{\lambda x}+ \underset{ \in W_2}{\lambda y} \in W_1+W_2
		\]
	\end{itemize} 
	
	$\implies$ $ W_1+W_2 $ è sottospazio vettoriale
}

\esempio{
	Sia $ V=\R^{2} $, $ W_1= \mathscr{L}((1,0)) $, $ W_2= \mathscr{L}((0,1)) $;

	$ W_1+W_2=\R^{2} $, infatti un generico elemento di $ W_1 $ è della forma $ (x,0) $, mentre un generico elemento di $ W_2 $ è della forma $ (0,y) $. Un generico vettore di $ W_1+W_2 $ è della forma $ (x,0)+(0,y)=(x,y) $, ovvero un generico elemento di $ \R^{2} $.
}

Vale che $ W_1+W_1=W_1 $, $ W_2+W_2=W_2 $, $ W_1\cap W_2=\{\underline{0}\} $. Inoltre $ W_1, W_2 \subseteq W_1+W_2 $, infatti ogni elemento $ x $ di $ W_1 $ si può scrivere come $ x+\underline{0} \in W_1+W_2 $ e ogni elemento $ y $ di $ W_2 $ si scrive come $ \underline{0}+y \in W_1+W_2 $, notando che, essendo $ W_1 $ e $ W_2 $ sottospazi vettoriali, $ \underline{0} \in W_1 $ e $ \underline{0} \in W_2 $.

Quindi $ \dim (W_1+W_2)\le \max\{\dim W_1, \dim W_2\} $

\proposizione{somvet}{Sia $V$ uno spazio vettoriale e $W, W_1$ e $W_2$ sottospazi di $V$.

	Se $W$ contiene $W_1$ e $W$ contiene $W_2$ allora $W$ contiene $W_1+W_2$ (cioè $W_1+W_2$ è il più piccolo sottospazio di $V$ che contiene sia $W_1$ che $W_2$)}

\dimostrazioneprop{somvet}{Sia $x+y \in W_1+W_2$, $x \in W_1$ $\implies$ $x \in W, y \in W_2$ $\implies$ $y \in W$ $\implies$ $x+y \in W$, poiché $W$ è un sottospazio vettoriale. Quindi ogni $v \in W_1+W_2$ è elemento di $W$ $\implies$ $W_1+W_2 \subseteq W$.

La somma si generalizza a più sottospazi. Siano $W_1, \cdots, W_l \subseteq V$ sottospazi vettoriali, allora si definisce \[W_1+\cdots+W_l=\{x_1+\cdots+x_l | x_1 \in W_1, \cdots, x_l \in W_l\} \subseteq V\] è un sottospazio vettoriale ed è il più piccolo sottospazio che contiene tutti i $W_1,\cdots, W_l$\qed}

\esercizio{
	Si trovino somma e intersezione dei seguenti sottospazi vettoriali di $\R^4$
	\begin{itemize}
		\item [a.] $W_1=\{(x_1, x_2, 0, 0) | x_1,x_2 \in \R\}$, $W_2=L(e_4)$
		\item [b.] $W_1=\{(x_1, x_2, 0, 0) | x:1,x:2 \in \R\}$,\\ $Z_2=\{(0, x_2, 0, x_4) | x_2, x_4 \in \R\}$
	\end{itemize}}{
	\begin{itemize}
		\item [a.] $W_1+W_2=\{(x_1, x_2, 0, x_4) | x_1, x_2, x_4 \in \R\}$, $W_1 \cap W_2=\{\underline{0}\}$
		\item [b.] $W_1+Z_2=\{(x_1, x_2, 0, x_4) | x_1, x_2, x_4 \in \R\}$,\\$W_1 \cap Z_2=\{(0, x_2, 0, 0) | x_2 \in \R\}$
	\end{itemize}}

\proposizione{caa}{Sia $V$ spazio vettoriale su un campo $\K$ e $W_1, W_2 \subseteq V$ due sottospazi. Sono fatti equivalenti le seguenti proposizioni:
	\numerato{\item $W_1 \cap W_2 = \{\underline{0}\}$ (hanno intersezione banale)
	\item ogni $v \in W_1+W_2$ si scrive in modo unico come $v=x+y$ con $x \in W_1$ e $y \in W_2$}}

\dimostrazioneprop{caa}{\elencop{\item [1. $\implies$ 2.] Suppongo $W_1 \cap W_2 = \{\underline{0}\}$ e considero $v \in W_1+W_2$. Scrivo $v=x_1+y_1$, $v=x_2+y_2$ e dimostro che $x_1=x_2$ e $y_1=y_2$

		$\underline{0}=v-v=(x_1+y_1)-(x_2+y_2)=(x_1-x_2)+(y_1-y_2)$ $\implies$ $x_1-x_2=y_2-y_1$, $x_1-x_2 \in W_1$ mentre $y_2-y_1 \in W_2$. Per l'uguaglianza risulta che 
		\[
		\begin{cases}
		x_1-x_2 \in W_2 \implies x_1-x_2 \in W_1 \cap W_2\\
		y_2-y_1 \in W_1 \implies y_2-y_1 \in W_1 \cap W_2
		\end{cases}\]
		\[
		\implies \begin{cases}
		x_1-x_2=\underline{0} \implies x_1=x_2\\
		y_2-y_1=\underline{0} \implies y_1=y_2
		\end{cases}\]
	
	\item [2. $\implies$ 1.] Suppongo che ogni $v \in W_1+W_2$ si scriva in modo unico come $v=x+y$ con $x \in W_1$ e $y \in W_2$ e dimostro che $W_1 \cap W_2 = \{\underline{0}\}$

		Sia $v \in W_1 \cap W_2$. Sia $v \in W_1+W_2$, $v=x+y=x+v+y-v$, con $x+v \in W_1$, $y-v \in W_2$. Quindi se $v \neq \underline{0}$, le due scritture $v=x+y$, $v=(x+v)+(y-v)$ sono diverse e ciò non è possibile per ipotesi}\qed}

		
\notazione{
	Se $ W_1  \cap W_2 = \{\underline{0}\} $ si scrive $ W_1 \oplus W_2 $ invece che $ W_1+W_2 $
	$ \oplus $ si legge ``somma diretta''}
	
\esempio{ $\K^{n,n} = S(\K^{n,n}) \oplus A(\K^{n,n})$}
\esempio{$ R^2 = \mathscr{L}(e_1) \oplus \mathscr{L}(e_2) $}

\proposizione{vetteq}{
	Sia $ V $ uno spazio vettoriale su un campo $\K$. Siano $ W_1, \cdots, W_l \subseteq V $ sottospazi vettoriali. Sono fatti equivalenti le seguenti proposizioni
	\begin{enumerate}
	\item $ W_i \cap (W_1+\cdots+W_{i-1}+W_{i+1}+\cdots+W_l) =\{\underline{0}\} $ $ \forall i = 1,\cdots,l $
	\item Ogni $ v \in W_1+\cdots+W_l $ si scrive in modo unico come $ v=x_1+\cdots+x_l$ con $x_1 \in W_1, \cdots, x_l \in W_l$
	\end{enumerate}
	Se vale 1. si scrive $ W_1 \oplus W_2 \oplus \cdots \oplus W_l $
	
Dimostrare la proposizione per esercizio%ESERCIZIO Dimostrazione per esercizio
}

\esempio{
	Considero $ V $ spazio vettoriale di dimensione finita e $ \mathscr{B}=\{v_1, \cdots, v_n\} $ $\implies$ $ V=\mathscr{L}(v_1) \oplus \cdots \oplus \mathscr{L}(v_l) $
}

Sia $V$ spazio vettoriale su un campo $\K$, finitamente generato. Sia $ W \subseteq V $ un sottospazio vettoriale, sia $ \mathscr{B}=\{w_1, \cdots, w_l\} $ una base di $ W $. Possiamo completare $ \mathscr{B} $ con una base dello spazio $ \mathscr{B}'=\{w_1, \cdots, w_l, v_1, \cdots, v_m\} $. Sia \[ Z=\mathscr{L}(v_1,\cdots, v_m) \subseteq V\] un sottospazio vettoriale, e per costruzione $ V=W \oplus Z $

\osservazione{
	Sia $ V $ spazio vettoriale di dimensione finita con $ V=W \oplus Z $
	Siano $ \mathscr{B}=\{w1, \cdots, w_l\} $ una base di $ W $ e $ C=\{z_1, \cdots, z_m\} $ una base di $ Z $.
	Ogni elemento di $ V $ si scrive in modo unico come $ v=x+y $ con $ x \in W $ e $ y \in Z $
	$ \mathscr{B} $ base di $ W $ 
	
	$\implies$ $ x $ si scrive in modo unico come $ x=\lambda_1w_1+\cdots+\lambda_l w_l $
	
	$ \mathscr{C} $ base di $ Z $ $\implies$ $y$ si scrive in modo unico come \[ y=\mu_1z_1+\cdots+\mu_n z_n \]
	
	$\implies$ $ v $ si scrive in modo unico come \[v=\lambda_1w_1+\cdots+\lambda_l w_l+\mu_1z_1+\cdots+\mu_n z_n\]
	
	$\implies$ $ B \cup C=\{w1, \cdots, w_l, z_1, \cdots, z_l\} $ è una base di $ V  $
	
	$\implies$ $ \dim V = \dim W + \dim Z $}
	
\subsection{Formula di Grassmann}

\todo{Sistemare appunti Formula di Grassman con quelli del prof}

\teorema{grassmann}{
	Sia $ V $ uno spazio vettoriale su un campo $\K$ finitamente generato. Siano $ W_1, W_2 \subseteq V $ due sottospazi vettoriali $ \tc V=W_1+W_2 $. Allora 
	\[\dim V = \dim W_1 + \dim W_2 - \dim (W_1 \cap W_2)\]
	Questa è la \textbf{Formula di Grassmann}.}
\dimostrazione{grassmann}{
Chiamo 
\[ \dim V=n,\, \dim W_1=l,\, \dim W_2=p,\, \dim (W_1 \cap W_2) = r\]

In particolare $ l,p \leq n $, $ r\leq l,p $
\begin{enumerate}
    \item Se $ r=l $ $\implies$ $ W_1 \cap W_2 = W_1 $ $\implies$ $ W_1 \subseteq W_2 $ $\implies$ $ W_1+W_2=W_2=V $
    \item Se $ r=p $ $\implies$ $ W_1 \cap W_2 = W_2 $ $\implies$ $ W_2 \subseteq W_1 $ $\implies$ $ W_1+W_1=W_1=V $
	
	In questi casi la formula è banale:
	\begin{enumerate}
		\item $ \displaystyle \parentesi{= \dim V}{\dim W_1} + \dim W_2 - \parentesi{= \dim W_2}{\dim (W_1\cap W_2)} = \dim V$
		\item $ \displaystyle \dim W_1 +\parentesi{= \dim V}{\dim W_2} - \parentesi{= \dim W_1}{\dim (W_1\cap W_2)} = \dim V$
	\end{enumerate}
    \item Se si assume $ r< l,p $ e sia \[\mathscr{B}=\{a_1,\cdots,a_r\} \text{ base di } W_1 \cap W_2\]
    Completo $ \mathscr{B} $ con una base $ \mathscr{C} $ di $ W_1 $, \[\mathscr{C}=\{a_1, \cdots, a_r, b_{r+1}, \cdots, b_l\}\]e completo $ \mathscr{B} $ con una base $ \mathscr{D} $ di $ W_2 $, \[\mathscr{D}=\{a_1, \cdots, a_r, c_{r+1}, \cdots, c_p\}\]
    Si verifica che l'insieme \[\{a_1, \cdots, a_r, b_{r+1}, \cdots, b_l, c_{r+1}, \cdots, c_p\}\] è una base di $V$. In questo modo si ottiene \[\dim V= l + (p-r)\] cioè la tesi.
    
    Ovviamente risulta \[\mathscr{L}(a_1, \cdots, a_r, b_{r+1}, \cdots, b_l, c_{r+1}, \cdots, c_p)=V\] in quanto contiene i generatori sia di $W_1$ che di $W_2$, e quindi anche della loro somma. Verifichiamo che l'insieme \[\{a_1, \cdots, a_r, b_{r+1}, \cdots, b_l, c_{r+1}, \cdots, c_p\}\] sia libero.
    Supponiamo 
    \begin{multline}\lambda_1a_1+ \cdots + \lambda_r a_r + \mu{r+1}+b_{r+1} + \cdots + \\ + \cdots + \mu_lb_l + \gamma_{r+1} c_{r+1} + \cdots + \gamma_p c_p = \underline{0}\label{rrssdoijooij}\end{multline}
    \[(\lambda_1a_1+ \cdots + \lambda_r a_r + \mu_{r+1} b_{r+1} + \cdots + \mu_l b_l)=( -\gamma_{r+1} c_{r+1} - \cdots - \gamma_p c_p)\]
    
    Sia \begin{multline*}c=(-\gamma_{r+1} c_{r+1} - \cdots - \gamma_p c_p)=\\=(\lambda_1a_1+ \cdots + \lambda_r a_r + \mu_{r+1} b_{r+1} + \cdots + \mu_l b_l)\end{multline*} sicuramente $c \in W_2$
    \[\lambda_1 a_1+ \cdots + \lambda_r a_r + \mu_{r+1} b_{r+1} + \cdots + \mu_l b_l \in W_1\] 
    
    $\implies$ $c \in W_1 \cap W_2 = \mathscr{L}(a_1,\cdots, a_r)$ \\
    
    $\implies$ $c = \beta_1 a_1 +\cdots+\beta_r a_r$, vado a sostituire in \eqref{rrssdoijooij}
    \[(\beta_1 a_1 +\cdots+\beta_r a_r)+(\gamma_{r+1} c_{r+1} + \cdots + \gamma_p c_p) = \underline{0}\]
    \[\implies \begin{cases}
    	\beta_1=\cdots=\beta_r=0\\
    	\gamma_{r+1}=\cdots=\gamma_p=0
    \end{cases}\]	%ESERCIZIO chiarire meglio perché

    Ho ottenuto
    \begin{gather*}
    \gamma_{r+1}=\cdots=\gamma_p=0\\
    \lambda_1a_1+ \cdots + \lambda_r a_r + \mu_{r+1} b_{r+1} + \cdots + \mu_l b_l=\underline{0}
    \end{gather*}
     
    Poiché l'insieme \[\mathscr{C}=\{a_1, \cdots, a_r, b_{r+1}, \cdots, b_l\}\] è libero
    
    $\implies$ $\lambda_1=\cdots=\lambda_r = \mu_{r+1}=\cdots=\mu_l=0$
    
    $\implies$ $\{a_1, \cdots, a_r, b_{r+1}, \cdots, b_l, c_{r+1}, \cdots, c_p\}$ è libero. \qed
\end{enumerate}}

\rule{7em}{.4pt}
 
